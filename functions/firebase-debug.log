[debug] [2021-03-25T00:28:52.290Z] ----------------------------------------------------------------------
[debug] [2021-03-25T00:28:52.293Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-03-25T00:28:52.293Z] CLI Version:   9.6.1
[debug] [2021-03-25T00:28:52.293Z] Platform:      win32
[debug] [2021-03-25T00:28:52.293Z] Node Version:  v14.16.0
[debug] [2021-03-25T00:28:52.295Z] Time:          Wed Mar 24 2021 20:28:52 GMT-0400 (Eastern Daylight Time)
[debug] [2021-03-25T00:28:52.295Z] ----------------------------------------------------------------------
[debug] [2021-03-25T00:28:52.295Z] 
[debug] [2021-03-25T00:28:52.305Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-03-25T00:28:52.306Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-03-25T00:28:52.355Z] [hub] writing locator at C:\Users\tuyen\AppData\Local\Temp\hub-clone-9a4d5.json
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "12" doesn't match your global version "14" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"12\" doesn't match your global version \"14\""}}
[debug] [2021-03-25T00:28:52.401Z] defaultcredentials: writing to file C:\Users\tuyen\AppData\Roaming\firebase\tuyen_phk_gmail.com_application_default_credentials.json
[debug] [2021-03-25T00:28:52.404Z] Setting GAC to C:\Users\tuyen\AppData\Roaming\firebase\tuyen_phk_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\tuyen\\AppData\\Roaming\\firebase\\tuyen_phk_gmail.com_application_default_credentials.json"}}
[debug] [2021-03-25T00:28:52.407Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-9a4d5/adminSdkConfig [none]
[debug] [2021-03-25T00:28:52.974Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-9a4d5/adminSdkConfig 200
[debug] [2021-03-25T00:28:52.975Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-9a4d5/adminSdkConfig {"projectId":"clone-9a4d5","storageBucket":"clone-9a4d5.appspot.com","locationId":"us-central"}
[debug] [2021-03-25T00:28:53.042Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-9a4d5/webApps/-/config [none]
[debug] [2021-03-25T00:28:54.181Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-9a4d5/webApps/-/config 200
[debug] [2021-03-25T00:28:54.182Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-9a4d5/webApps/-/config {"projectId":"clone-9a4d5","appId":"1:931963552528:web:37a4f87534d1715ac2db95","storageBucket":"clone-9a4d5.appspot.com","locationId":"us-central","apiKey":"AIzaSyA0AC2a47naMYgyDvawZe6q91761WU6yAI","authDomain":"clone-9a4d5.firebaseapp.com","messagingSenderId":"931963552528","measurementId":"G-VYMPF5QB9N"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-03-25T00:28:54.376Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-03-25T00:28:54.381Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-03-25T00:28:54.382Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\tuyen\\.cache\\firebase\\emulators\\ui-v1.4.2\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\tuyen\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.4.2\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-03-25T00:28:54.739Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\" for Cloud Functions..."}}
[debug] [2021-03-25T00:28:54.908Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-25T00:28:54.909Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-03-25T00:28:54.909Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-25T00:28:54.910Z] [worker-~diagnostic~-8b6c6f16-d2b9-4cb9-bc98-c45040b929d2]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\19044 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8b6c6f16-d2b9-4cb9-bc98-c45040b929d2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\19044"}}
[debug] [2021-03-25T00:28:54.910Z] [worker-~diagnostic~-8b6c6f16-d2b9-4cb9-bc98-c45040b929d2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8b6c6f16-d2b9-4cb9-bc98-c45040b929d2]: BUSY"}}
[debug] [2021-03-25T00:28:55.228Z] [runtime-status] [19044] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:28:55.229Z] [runtime-status] [19044] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:28:55.235Z] [runtime-status] [19044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:28:55.239Z] [runtime-status] [19044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:28:55.242Z] [runtime-status] [19044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:28:55.244Z] [runtime-status] [19044] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:28:55.245Z] [runtime-status] [19044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:28:55.329Z] [runtime-status] [19044] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:28:55.330Z] [runtime-status] [19044] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:28:55.331Z] [runtime-status] [19044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:28:55.333Z] [runtime-status] [19044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:28:55.333Z] [runtime-status] [19044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:28:55.334Z] [runtime-status] [19044] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [19044] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/clone-9a4d5/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-9a4d5/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-03-25T00:28:55.662Z] [worker-~diagnostic~-8b6c6f16-d2b9-4cb9-bc98-c45040b929d2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8b6c6f16-d2b9-4cb9-bc98-c45040b929d2]: IDLE"}}
[debug] [2021-03-25T00:29:23.503Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-25T00:29:23.506Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T00:29:23.509Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=37499 --> api
[debug] [2021-03-25T00:29:23.671Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:29:23.672Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-25T00:29:23.673Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:29:23.673Z] [worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\17572 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\17572"}}
[debug] [2021-03-25T00:29:23.674Z] [worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: BUSY"}}
[debug] [2021-03-25T00:29:24.138Z] [runtime-status] [17572] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:29:24.140Z] [runtime-status] [17572] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:29:24.145Z] [runtime-status] [17572] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:29:24.148Z] [runtime-status] [17572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:29:24.151Z] [runtime-status] [17572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:29:24.154Z] [runtime-status] [17572] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:29:24.155Z] [runtime-status] [17572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:29:24.306Z] [runtime-status] [17572] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:29:24.307Z] [runtime-status] [17572] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:29:24.310Z] [runtime-status] [17572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:29:24.313Z] [runtime-status] [17572] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:29:24.314Z] [runtime-status] [17572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:29:24.314Z] [runtime-status] [17572] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:29:24.846Z] [runtime-status] [17572] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:29:24.853Z] [runtime-status] [17572] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:29:24.853Z] [runtime-status] [17572] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:29:24.856Z] [runtime-status] [17572] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\17572 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\17572"}}
[debug] [2021-03-25T00:29:24.861Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:29:24.862Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=37499, mapping to path=/payments/create?total=37499 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=37499, mapping to path=/payments/create?total=37499"}}
[debug] [2021-03-25T00:29:24.882Z] [runtime-status] [17572] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  37499 {"user":"Payment Request is:  37499","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  37499"}}
[debug] [2021-03-25T00:29:24.913Z] [runtime-status] [17572] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-25T00:29:25.675Z] [worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: IDLE"}}
[debug] [2021-03-25T00:29:25.676Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-25T00:29:39.455Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-25T00:29:39.455Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T00:29:39.455Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:29:39.456Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:29:39.456Z] [worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\17572 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\17572"}}
[debug] [2021-03-25T00:29:39.456Z] [worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: BUSY"}}
[debug] [2021-03-25T00:29:39.457Z] [runtime-status] [17572] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:29:39.467Z] [runtime-status] [17572] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:29:39.468Z] [runtime-status] [17572] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:29:39.470Z] [runtime-status] [17572] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\17572 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\17572"}}
[debug] [2021-03-25T00:29:39.473Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:29:39.474Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:29:39.479Z] [runtime-status] [17572] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:29:39.488Z] [runtime-status] [17572] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17572] Ephemeral server survived."}}
[info] >  (node:17572) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:17572) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:17572) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:17572) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:17572) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:17572) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:17572) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:17572) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:17572) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:30:39.654Z] [worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: exited"}}
[debug] [2021-03-25T00:30:39.660Z] [worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1584393-75d0-4493-975d-37cdb6467a34]: FINISHED"}}
[debug] [2021-03-25T00:30:39.662Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-25T00:38:18.684Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-25T00:38:18.684Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T00:38:18.684Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=119999 --> api
[debug] [2021-03-25T00:38:18.685Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-25T00:38:18.758Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:38:18.759Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-25T00:38:18.759Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:38:18.759Z] [worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\5032 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\5032"}}
[debug] [2021-03-25T00:38:18.759Z] [worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: BUSY"}}
[debug] [2021-03-25T00:38:19.040Z] [runtime-status] [5032] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:38:19.041Z] [runtime-status] [5032] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:38:19.046Z] [runtime-status] [5032] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:38:19.048Z] [runtime-status] [5032] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:38:19.050Z] [runtime-status] [5032] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:38:19.052Z] [runtime-status] [5032] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:38:19.054Z] [runtime-status] [5032] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:38:19.131Z] [runtime-status] [5032] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:38:19.132Z] [runtime-status] [5032] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:38:19.132Z] [runtime-status] [5032] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:38:19.134Z] [runtime-status] [5032] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:38:19.135Z] [runtime-status] [5032] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:38:19.135Z] [runtime-status] [5032] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:38:19.403Z] [runtime-status] [5032] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:38:19.404Z] [runtime-status] [5032] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:38:19.408Z] [runtime-status] [5032] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:38:19.413Z] [runtime-status] [5032] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\5032 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\5032"}}
[debug] [2021-03-25T00:38:19.418Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:38:19.418Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=119999, mapping to path=/payments/create?total=119999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=119999, mapping to path=/payments/create?total=119999"}}
[debug] [2021-03-25T00:38:19.439Z] [runtime-status] [5032] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  119999 {"user":"Payment Request is:  119999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  119999"}}
[debug] [2021-03-25T00:38:19.467Z] [runtime-status] [5032] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-25T00:38:20.095Z] [worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: IDLE"}}
[debug] [2021-03-25T00:38:20.096Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-25T00:38:30.909Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-25T00:38:30.910Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T00:38:30.910Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:38:30.910Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:38:30.911Z] [worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\5032 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\5032"}}
[debug] [2021-03-25T00:38:30.911Z] [worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: BUSY"}}
[debug] [2021-03-25T00:38:30.913Z] [runtime-status] [5032] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:38:30.922Z] [runtime-status] [5032] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:38:30.923Z] [runtime-status] [5032] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:38:30.925Z] [runtime-status] [5032] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\5032 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\5032"}}
[debug] [2021-03-25T00:38:30.928Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:38:30.928Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:38:30.934Z] [runtime-status] [5032] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:38:30.939Z] [runtime-status] [5032] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5032] Ephemeral server survived."}}
[info] >  (node:5032) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5032) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5032) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:5032) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5032) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5032) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5032) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5032) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5032) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:39:31.023Z] [worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: exited"}}
[debug] [2021-03-25T00:39:31.025Z] [worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1fa2977-a488-49d7-8c5a-3f542b696ae0]: FINISHED"}}
[debug] [2021-03-25T00:39:31.026Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-25T00:56:01.915Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-25T00:56:01.916Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T00:56:01.916Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:56:01.917Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-25T00:56:02.106Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:56:02.106Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-25T00:56:02.106Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:56:02.107Z] [worker-api-301834bd-8e1a-46ca-9945-b9c340bd1525]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\15740 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-301834bd-8e1a-46ca-9945-b9c340bd1525]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\15740"}}
[debug] [2021-03-25T00:56:02.107Z] [worker-api-301834bd-8e1a-46ca-9945-b9c340bd1525]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-301834bd-8e1a-46ca-9945-b9c340bd1525]: BUSY"}}
[debug] [2021-03-25T00:56:02.642Z] [runtime-status] [15740] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:56:02.645Z] [runtime-status] [15740] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:56:02.650Z] [runtime-status] [15740] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:56:02.653Z] [runtime-status] [15740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:56:02.656Z] [runtime-status] [15740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:56:02.658Z] [runtime-status] [15740] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:56:02.659Z] [runtime-status] [15740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:56:02.740Z] [runtime-status] [15740] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:56:02.741Z] [runtime-status] [15740] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:56:02.742Z] [runtime-status] [15740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:56:02.744Z] [runtime-status] [15740] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:56:02.746Z] [runtime-status] [15740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:56:02.746Z] [runtime-status] [15740] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:56:03.009Z] [runtime-status] [15740] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:56:03.011Z] [runtime-status] [15740] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:56:03.012Z] [runtime-status] [15740] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:56:03.018Z] [runtime-status] [15740] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\15740 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\15740"}}
[debug] [2021-03-25T00:56:03.022Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:56:03.023Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:56:03.042Z] [runtime-status] [15740] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:56:03.068Z] [runtime-status] [15740] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15740] Ephemeral server survived."}}
[info] >  (node:15740) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15740) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15740) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:15740) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15740) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15740) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15740) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15740) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15740) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:57:03.037Z] [worker-api-301834bd-8e1a-46ca-9945-b9c340bd1525]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-301834bd-8e1a-46ca-9945-b9c340bd1525]: exited"}}
[debug] [2021-03-25T00:57:03.037Z] [worker-api-301834bd-8e1a-46ca-9945-b9c340bd1525]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-301834bd-8e1a-46ca-9945-b9c340bd1525]: FINISHED"}}
[debug] [2021-03-25T00:57:03.037Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-25T00:57:53.136Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-25T00:57:53.137Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T00:57:53.137Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:57:53.137Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-25T00:57:53.455Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:57:53.456Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-25T00:57:53.456Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:57:53.456Z] [worker-api-11b86773-9e21-4bdc-a824-ad7c21875188]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\16648 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11b86773-9e21-4bdc-a824-ad7c21875188]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\16648"}}
[debug] [2021-03-25T00:57:53.456Z] [worker-api-11b86773-9e21-4bdc-a824-ad7c21875188]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11b86773-9e21-4bdc-a824-ad7c21875188]: BUSY"}}
[debug] [2021-03-25T00:57:54.362Z] [runtime-status] [16648] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:57:54.365Z] [runtime-status] [16648] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:57:54.373Z] [runtime-status] [16648] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:54.378Z] [runtime-status] [16648] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:54.382Z] [runtime-status] [16648] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:54.385Z] [runtime-status] [16648] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:57:54.387Z] [runtime-status] [16648] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:54.602Z] [runtime-status] [16648] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:57:54.603Z] [runtime-status] [16648] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:57:54.640Z] [runtime-status] [16648] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:54.644Z] [runtime-status] [16648] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:54.646Z] [runtime-status] [16648] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:54.646Z] [runtime-status] [16648] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:57:55.255Z] [runtime-status] [16648] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:57:55.260Z] [runtime-status] [16648] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:57:55.261Z] [runtime-status] [16648] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:57:55.265Z] [runtime-status] [16648] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\16648 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\16648"}}
[debug] [2021-03-25T00:57:55.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:57:55.270Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:57:55.295Z] [runtime-status] [16648] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:57:55.539Z] [runtime-status] [16648] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16648] Ephemeral server survived."}}
[info] >  (node:16648) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16648) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16648) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16648) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16648) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16648) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16648) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16648) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16648) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-25T00:57:58.708Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-25T00:57:58.709Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-25T00:57:58.709Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:57:58.847Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:57:58.847Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-25T00:57:58.848Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:57:58.848Z] [worker-api-4977552b-b034-4b3d-b505-5848d93c1042]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\11332 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4977552b-b034-4b3d-b505-5848d93c1042]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\11332"}}
[debug] [2021-03-25T00:57:58.849Z] [worker-api-4977552b-b034-4b3d-b505-5848d93c1042]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4977552b-b034-4b3d-b505-5848d93c1042]: BUSY"}}
[debug] [2021-03-25T00:57:59.519Z] [runtime-status] [11332] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:57:59.521Z] [runtime-status] [11332] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:57:59.530Z] [runtime-status] [11332] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:59.534Z] [runtime-status] [11332] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:59.538Z] [runtime-status] [11332] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:59.541Z] [runtime-status] [11332] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:57:59.543Z] [runtime-status] [11332] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:59.680Z] [runtime-status] [11332] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:57:59.681Z] [runtime-status] [11332] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:57:59.688Z] [runtime-status] [11332] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:59.691Z] [runtime-status] [11332] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:59.692Z] [runtime-status] [11332] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:57:59.692Z] [runtime-status] [11332] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:00.170Z] [runtime-status] [11332] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:58:00.177Z] [runtime-status] [11332] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:58:00.177Z] [runtime-status] [11332] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:58:00.181Z] [runtime-status] [11332] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\11332 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\11332"}}
[debug] [2021-03-25T00:58:00.193Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:58:00.193Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:58:00.223Z] [runtime-status] [11332] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:58:00.298Z] [runtime-status] [11332] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11332] Ephemeral server survived."}}
[info] >  (node:11332) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:11332) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11332) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:11332) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11332) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11332) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11332) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11332) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11332) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-25T00:58:13.044Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-03-25T00:58:13.044Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-03-25T00:58:13.044Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:58:13.118Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:58:13.118Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-03-25T00:58:13.118Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:58:13.118Z] [worker-api-72c62119-3c2c-4ce2-9896-a1f5884c5546]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\15832 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72c62119-3c2c-4ce2-9896-a1f5884c5546]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\15832"}}
[debug] [2021-03-25T00:58:13.118Z] [worker-api-72c62119-3c2c-4ce2-9896-a1f5884c5546]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72c62119-3c2c-4ce2-9896-a1f5884c5546]: BUSY"}}
[debug] [2021-03-25T00:58:13.691Z] [runtime-status] [15832] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:58:13.695Z] [runtime-status] [15832] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:58:13.710Z] [runtime-status] [15832] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:13.715Z] [runtime-status] [15832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:13.718Z] [runtime-status] [15832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:13.721Z] [runtime-status] [15832] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:58:13.723Z] [runtime-status] [15832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:13.859Z] [runtime-status] [15832] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:58:13.860Z] [runtime-status] [15832] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:13.861Z] [runtime-status] [15832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:13.870Z] [runtime-status] [15832] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:13.872Z] [runtime-status] [15832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:13.872Z] [runtime-status] [15832] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:14.476Z] [runtime-status] [15832] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:58:14.491Z] [runtime-status] [15832] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:58:14.491Z] [runtime-status] [15832] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:58:14.492Z] [runtime-status] [15832] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\15832 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\15832"}}
[debug] [2021-03-25T00:58:14.493Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:58:14.494Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:58:14.521Z] [runtime-status] [15832] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:58:14.580Z] [runtime-status] [15832] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15832] Ephemeral server survived."}}
[info] >  (node:15832) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15832) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15832) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:15832) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15832) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15832) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15832) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15832) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15832) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-25T00:58:16.598Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-03-25T00:58:16.598Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-03-25T00:58:16.599Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:58:16.682Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:58:16.682Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-03-25T00:58:16.682Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:58:16.682Z] [worker-api-a37eddb0-d4ae-4fb6-9781-d5b2d0f936e7]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\14536 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a37eddb0-d4ae-4fb6-9781-d5b2d0f936e7]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\14536"}}
[debug] [2021-03-25T00:58:16.683Z] [worker-api-a37eddb0-d4ae-4fb6-9781-d5b2d0f936e7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a37eddb0-d4ae-4fb6-9781-d5b2d0f936e7]: BUSY"}}
[debug] [2021-03-25T00:58:17.203Z] [runtime-status] [14536] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:58:17.206Z] [runtime-status] [14536] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:58:17.215Z] [runtime-status] [14536] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:17.226Z] [runtime-status] [14536] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:17.229Z] [runtime-status] [14536] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:17.233Z] [runtime-status] [14536] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:58:17.234Z] [runtime-status] [14536] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:17.377Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-03-25T00:58:17.378Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-03-25T00:58:17.378Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:58:17.514Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:58:17.514Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-03-25T00:58:17.514Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:58:17.514Z] [worker-api-a01831aa-0161-450c-8968-71f5a0dfdba8]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\9000 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a01831aa-0161-450c-8968-71f5a0dfdba8]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\9000"}}
[debug] [2021-03-25T00:58:17.514Z] [worker-api-a01831aa-0161-450c-8968-71f5a0dfdba8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a01831aa-0161-450c-8968-71f5a0dfdba8]: BUSY"}}
[debug] [2021-03-25T00:58:17.515Z] [runtime-status] [14536] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:58:17.515Z] [runtime-status] [14536] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:17.515Z] [runtime-status] [14536] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:17.516Z] [runtime-status] [14536] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:17.516Z] [runtime-status] [14536] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:17.516Z] [runtime-status] [14536] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:17.976Z] [runtime-status] [14536] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:58:17.978Z] [runtime-status] [14536] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:58:17.978Z] [runtime-status] [14536] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:58:17.999Z] [runtime-status] [14536] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\14536 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\14536"}}
[debug] [2021-03-25T00:58:18.004Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:58:18.004Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:58:18.026Z] [runtime-status] [14536] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:58:18.434Z] [runtime-status] [14536] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14536] Ephemeral server survived."}}
[debug] [2021-03-25T00:58:18.541Z] [runtime-status] [9000] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:58:18.544Z] [runtime-status] [9000] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:58:18.552Z] [runtime-status] [9000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:18.570Z] [runtime-status] [9000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:18.574Z] [runtime-status] [9000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:18.578Z] [runtime-status] [9000] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:58:18.580Z] [runtime-status] [9000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:18.830Z] [runtime-status] [9000] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:58:18.831Z] [runtime-status] [9000] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:18.856Z] [runtime-status] [9000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:18.863Z] [runtime-status] [9000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:18.864Z] [runtime-status] [9000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:18.865Z] [runtime-status] [9000] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:19.454Z] [runtime-status] [9000] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:58:19.466Z] [runtime-status] [9000] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:58:19.466Z] [runtime-status] [9000] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:58:19.466Z] [runtime-status] [9000] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\9000 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\9000"}}
[debug] [2021-03-25T00:58:19.471Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:58:19.472Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:58:19.512Z] [runtime-status] [9000] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:58:19.561Z] [runtime-status] [9000] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9000] Ephemeral server survived."}}
[info] >  (node:14536) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:14536) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14536) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:14536) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14536) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14536) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14536) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14536) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14536) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[info] >  (node:9000) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9000) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9000) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:9000) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9000) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9000) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9000) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9000) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9000) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-25T00:58:23.076Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-03-25T00:58:23.077Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-03-25T00:58:23.077Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:58:23.444Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:58:23.444Z] [worker-pool] Adding worker with key api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=6"}}
[debug] [2021-03-25T00:58:23.444Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:58:23.445Z] [worker-api-e990365a-b924-4e4a-a4a6-60e715560731]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\1888 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e990365a-b924-4e4a-a4a6-60e715560731]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\1888"}}
[debug] [2021-03-25T00:58:23.445Z] [worker-api-e990365a-b924-4e4a-a4a6-60e715560731]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e990365a-b924-4e4a-a4a6-60e715560731]: BUSY"}}
[debug] [2021-03-25T00:58:24.327Z] [runtime-status] [1888] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:58:24.331Z] [runtime-status] [1888] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:58:24.341Z] [runtime-status] [1888] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:24.349Z] [runtime-status] [1888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:24.353Z] [runtime-status] [1888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:24.357Z] [runtime-status] [1888] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:58:24.359Z] [runtime-status] [1888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:24.528Z] [runtime-status] [1888] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:58:24.536Z] [runtime-status] [1888] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:24.541Z] [runtime-status] [1888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:24.557Z] [runtime-status] [1888] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:24.559Z] [runtime-status] [1888] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:24.559Z] [runtime-status] [1888] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:25.180Z] [runtime-status] [1888] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:58:25.182Z] [runtime-status] [1888] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:58:25.182Z] [runtime-status] [1888] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:58:25.190Z] [runtime-status] [1888] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\1888 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\1888"}}
[debug] [2021-03-25T00:58:25.196Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:58:25.197Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:58:25.224Z] [runtime-status] [1888] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:58:25.274Z] [runtime-status] [1888] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1888] Ephemeral server survived."}}
[info] >  (node:1888) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:1888) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1888) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1888) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1888) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1888) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1888) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1888) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1888) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:58:55.305Z] [work-queue] {"queueLength":1,"workRunningCount":6}
[debug] [2021-03-25T00:58:55.305Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2021-03-25T00:58:55.306Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T00:58:55.428Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T00:58:55.428Z] [worker-pool] Adding worker with key api, total=7 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=7"}}
[debug] [2021-03-25T00:58:55.429Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T00:58:55.429Z] [worker-api-c4790f0e-1b34-48e3-a8ce-74d0c12b7b10]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\4176 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4790f0e-1b34-48e3-a8ce-74d0c12b7b10]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\4176"}}
[debug] [2021-03-25T00:58:55.429Z] [worker-api-c4790f0e-1b34-48e3-a8ce-74d0c12b7b10]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4790f0e-1b34-48e3-a8ce-74d0c12b7b10]: BUSY"}}
[debug] [2021-03-25T00:58:55.430Z] [worker-api-11b86773-9e21-4bdc-a824-ad7c21875188]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11b86773-9e21-4bdc-a824-ad7c21875188]: exited"}}
[debug] [2021-03-25T00:58:55.430Z] [worker-api-11b86773-9e21-4bdc-a824-ad7c21875188]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11b86773-9e21-4bdc-a824-ad7c21875188]: FINISHED"}}
[debug] [2021-03-25T00:58:55.430Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-03-25T00:58:55.982Z] [runtime-status] [4176] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T00:58:55.985Z] [runtime-status] [4176] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Disabled runtime features: undefined"}}
[debug] [2021-03-25T00:58:55.993Z] [runtime-status] [4176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:55.996Z] [runtime-status] [4176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:56.000Z] [runtime-status] [4176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:56.004Z] [runtime-status] [4176] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T00:58:56.005Z] [runtime-status] [4176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:56.126Z] [runtime-status] [4176] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T00:58:56.126Z] [runtime-status] [4176] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:56.128Z] [runtime-status] [4176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:56.130Z] [runtime-status] [4176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:56.132Z] [runtime-status] [4176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T00:58:56.132Z] [runtime-status] [4176] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T00:58:56.537Z] [runtime-status] [4176] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T00:58:56.539Z] [runtime-status] [4176] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T00:58:56.539Z] [runtime-status] [4176] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Running api in mode HTTPS"}}
[debug] [2021-03-25T00:58:56.546Z] [runtime-status] [4176] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\4176 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\4176"}}
[debug] [2021-03-25T00:58:56.551Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T00:58:56.551Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T00:58:56.573Z] [runtime-status] [4176] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T00:58:56.604Z] [runtime-status] [4176] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4176] Ephemeral server survived."}}
[info] >  (node:4176) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:4176) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4176) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:4176) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:4176) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4176) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:4176) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:4176) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4176) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:59:00.273Z] [worker-api-4977552b-b034-4b3d-b505-5848d93c1042]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4977552b-b034-4b3d-b505-5848d93c1042]: exited"}}
[debug] [2021-03-25T00:59:00.275Z] [worker-api-4977552b-b034-4b3d-b505-5848d93c1042]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4977552b-b034-4b3d-b505-5848d93c1042]: FINISHED"}}
[debug] [2021-03-25T00:59:00.275Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:59:14.531Z] [worker-api-72c62119-3c2c-4ce2-9896-a1f5884c5546]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72c62119-3c2c-4ce2-9896-a1f5884c5546]: exited"}}
[debug] [2021-03-25T00:59:14.531Z] [worker-api-72c62119-3c2c-4ce2-9896-a1f5884c5546]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72c62119-3c2c-4ce2-9896-a1f5884c5546]: FINISHED"}}
[debug] [2021-03-25T00:59:14.532Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:59:18.046Z] [worker-api-a37eddb0-d4ae-4fb6-9781-d5b2d0f936e7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a37eddb0-d4ae-4fb6-9781-d5b2d0f936e7]: exited"}}
[debug] [2021-03-25T00:59:18.046Z] [worker-api-a37eddb0-d4ae-4fb6-9781-d5b2d0f936e7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a37eddb0-d4ae-4fb6-9781-d5b2d0f936e7]: FINISHED"}}
[debug] [2021-03-25T00:59:18.047Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:59:19.614Z] [worker-api-a01831aa-0161-450c-8968-71f5a0dfdba8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a01831aa-0161-450c-8968-71f5a0dfdba8]: exited"}}
[debug] [2021-03-25T00:59:19.616Z] [worker-api-a01831aa-0161-450c-8968-71f5a0dfdba8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a01831aa-0161-450c-8968-71f5a0dfdba8]: FINISHED"}}
[debug] [2021-03-25T00:59:19.617Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:59:25.308Z] [worker-api-e990365a-b924-4e4a-a4a6-60e715560731]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e990365a-b924-4e4a-a4a6-60e715560731]: exited"}}
[debug] [2021-03-25T00:59:25.310Z] [worker-api-e990365a-b924-4e4a-a4a6-60e715560731]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e990365a-b924-4e4a-a4a6-60e715560731]: FINISHED"}}
[debug] [2021-03-25T00:59:25.311Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T00:59:56.719Z] [worker-api-c4790f0e-1b34-48e3-a8ce-74d0c12b7b10]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4790f0e-1b34-48e3-a8ce-74d0c12b7b10]: exited"}}
[debug] [2021-03-25T00:59:56.720Z] [worker-api-c4790f0e-1b34-48e3-a8ce-74d0c12b7b10]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4790f0e-1b34-48e3-a8ce-74d0c12b7b10]: FINISHED"}}
[debug] [2021-03-25T00:59:56.724Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-25T01:00:15.899Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-25T01:00:15.899Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T01:00:15.899Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:00:15.899Z] [worker-pool] Cleaned up workers for api: 7 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 7 --> 0"}}
[debug] [2021-03-25T01:00:17.565Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:00:17.565Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-25T01:00:17.565Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:00:17.565Z] [worker-api-44ce2846-9783-41a8-bd26-46403989abc4]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\18000 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-44ce2846-9783-41a8-bd26-46403989abc4]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\18000"}}
[debug] [2021-03-25T01:00:17.565Z] [worker-api-44ce2846-9783-41a8-bd26-46403989abc4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-44ce2846-9783-41a8-bd26-46403989abc4]: BUSY"}}
[debug] [2021-03-25T01:00:18.031Z] [runtime-status] [18000] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:00:18.035Z] [runtime-status] [18000] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:00:18.044Z] [runtime-status] [18000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:18.051Z] [runtime-status] [18000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:18.055Z] [runtime-status] [18000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:18.058Z] [runtime-status] [18000] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:00:18.059Z] [runtime-status] [18000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:18.197Z] [runtime-status] [18000] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:00:18.198Z] [runtime-status] [18000] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:18.199Z] [runtime-status] [18000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:18.201Z] [runtime-status] [18000] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:18.203Z] [runtime-status] [18000] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:18.203Z] [runtime-status] [18000] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:18.793Z] [runtime-status] [18000] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:00:18.795Z] [runtime-status] [18000] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:00:18.796Z] [runtime-status] [18000] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:00:18.802Z] [runtime-status] [18000] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\18000 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\18000"}}
[debug] [2021-03-25T01:00:18.809Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:00:18.809Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:00:18.833Z] [runtime-status] [18000] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:00:18.879Z] [runtime-status] [18000] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18000] Ephemeral server survived."}}
[debug] [2021-03-25T01:00:19.094Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-25T01:00:19.094Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-25T01:00:19.094Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:00:19.144Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:00:19.144Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-25T01:00:19.144Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:00:19.144Z] [worker-api-423fbf40-5bcd-4a9f-b666-a7b46ca385e1]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\14164 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-423fbf40-5bcd-4a9f-b666-a7b46ca385e1]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\14164"}}
[debug] [2021-03-25T01:00:19.145Z] [worker-api-423fbf40-5bcd-4a9f-b666-a7b46ca385e1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-423fbf40-5bcd-4a9f-b666-a7b46ca385e1]: BUSY"}}
[debug] [2021-03-25T01:00:19.459Z] [runtime-status] [14164] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:00:19.461Z] [runtime-status] [14164] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:00:19.467Z] [runtime-status] [14164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:19.471Z] [runtime-status] [14164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:19.474Z] [runtime-status] [14164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:19.477Z] [runtime-status] [14164] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:00:19.478Z] [runtime-status] [14164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:19.558Z] [runtime-status] [14164] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:00:19.559Z] [runtime-status] [14164] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:19.560Z] [runtime-status] [14164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:19.562Z] [runtime-status] [14164] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:19.563Z] [runtime-status] [14164] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:19.563Z] [runtime-status] [14164] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:19.841Z] [runtime-status] [14164] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:00:19.842Z] [runtime-status] [14164] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:00:19.843Z] [runtime-status] [14164] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:00:19.851Z] [runtime-status] [14164] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\14164 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\14164"}}
[debug] [2021-03-25T01:00:19.856Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:00:19.856Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:00:19.879Z] [runtime-status] [14164] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:00:19.929Z] [runtime-status] [14164] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14164] Ephemeral server survived."}}
[info] >  (node:14164) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:14164) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14164) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:18000) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:18000) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18000) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:18000) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:18000) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18000) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:18000) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:18000) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18000) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[info] >  (node:14164) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14164) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14164) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14164) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14164) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14164) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-25T01:00:40.890Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-03-25T01:00:40.890Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-03-25T01:00:40.890Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:00:40.993Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:00:40.993Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-03-25T01:00:40.993Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:00:40.994Z] [worker-api-b8ad3234-8b72-49ca-8311-0bdb7a11648f]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\1404 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b8ad3234-8b72-49ca-8311-0bdb7a11648f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\1404"}}
[debug] [2021-03-25T01:00:40.994Z] [worker-api-b8ad3234-8b72-49ca-8311-0bdb7a11648f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b8ad3234-8b72-49ca-8311-0bdb7a11648f]: BUSY"}}
[debug] [2021-03-25T01:00:41.743Z] [runtime-status] [1404] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:00:41.750Z] [runtime-status] [1404] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:00:41.766Z] [runtime-status] [1404] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:41.771Z] [runtime-status] [1404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:41.774Z] [runtime-status] [1404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:41.778Z] [runtime-status] [1404] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:00:41.780Z] [runtime-status] [1404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:41.903Z] [runtime-status] [1404] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:00:41.904Z] [runtime-status] [1404] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:41.905Z] [runtime-status] [1404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:41.908Z] [runtime-status] [1404] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:41.909Z] [runtime-status] [1404] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:41.910Z] [runtime-status] [1404] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:42.423Z] [runtime-status] [1404] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:00:42.452Z] [runtime-status] [1404] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:00:42.452Z] [runtime-status] [1404] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:00:42.453Z] [runtime-status] [1404] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\1404 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\1404"}}
[debug] [2021-03-25T01:00:42.458Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:00:42.458Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:00:42.489Z] [runtime-status] [1404] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:00:42.635Z] [runtime-status] [1404] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1404] Ephemeral server survived."}}
[debug] [2021-03-25T01:00:43.279Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-03-25T01:00:43.280Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-03-25T01:00:43.280Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:00:43.573Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:00:43.573Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-03-25T01:00:43.573Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:00:43.573Z] [worker-api-983bd10d-c3c0-4f73-9ec6-c99dee9f027c]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\18396 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-983bd10d-c3c0-4f73-9ec6-c99dee9f027c]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\18396"}}
[debug] [2021-03-25T01:00:43.574Z] [worker-api-983bd10d-c3c0-4f73-9ec6-c99dee9f027c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-983bd10d-c3c0-4f73-9ec6-c99dee9f027c]: BUSY"}}
[info] >  (node:1404) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:1404) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1404) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1404) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1404) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1404) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1404) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1404) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1404) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-25T01:00:44.917Z] [runtime-status] [18396] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:00:44.922Z] [runtime-status] [18396] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:00:44.932Z] [runtime-status] [18396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:44.936Z] [runtime-status] [18396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:44.940Z] [runtime-status] [18396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:44.944Z] [runtime-status] [18396] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:00:44.945Z] [runtime-status] [18396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:45.099Z] [runtime-status] [18396] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:00:45.100Z] [runtime-status] [18396] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:45.106Z] [runtime-status] [18396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:45.116Z] [runtime-status] [18396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:45.118Z] [runtime-status] [18396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:45.118Z] [runtime-status] [18396] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:45.661Z] [runtime-status] [18396] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:00:45.715Z] [runtime-status] [18396] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:00:45.716Z] [runtime-status] [18396] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:00:45.716Z] [runtime-status] [18396] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\18396 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\18396"}}
[debug] [2021-03-25T01:00:45.719Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:00:45.720Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:00:45.780Z] [runtime-status] [18396] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:00:45.902Z] [runtime-status] [18396] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18396] Ephemeral server survived."}}
[debug] [2021-03-25T01:00:46.832Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-03-25T01:00:46.832Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-03-25T01:00:46.832Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:00:46.935Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:00:46.935Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-03-25T01:00:46.936Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:00:46.936Z] [worker-api-04f9a8cd-aa23-422d-943a-696f559e8784]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\2096 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f9a8cd-aa23-422d-943a-696f559e8784]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\2096"}}
[debug] [2021-03-25T01:00:46.937Z] [worker-api-04f9a8cd-aa23-422d-943a-696f559e8784]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f9a8cd-aa23-422d-943a-696f559e8784]: BUSY"}}
[debug] [2021-03-25T01:00:46.971Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-03-25T01:00:46.971Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-03-25T01:00:46.972Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:00:47.048Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:00:47.049Z] [worker-pool] Adding worker with key api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=6"}}
[debug] [2021-03-25T01:00:47.049Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:00:47.049Z] [worker-api-d19434e4-2d99-4ce4-8e99-4970fbbc7109]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\7016 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d19434e4-2d99-4ce4-8e99-4970fbbc7109]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\7016"}}
[debug] [2021-03-25T01:00:47.049Z] [worker-api-d19434e4-2d99-4ce4-8e99-4970fbbc7109]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d19434e4-2d99-4ce4-8e99-4970fbbc7109]: BUSY"}}
[debug] [2021-03-25T01:00:47.432Z] [runtime-status] [2096] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:00:47.435Z] [runtime-status] [2096] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:00:47.443Z] [runtime-status] [2096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.448Z] [runtime-status] [2096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.453Z] [runtime-status] [2096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.459Z] [runtime-status] [2096] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:00:47.461Z] [runtime-status] [2096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.534Z] [runtime-status] [7016] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:00:47.538Z] [runtime-status] [7016] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:00:47.551Z] [runtime-status] [7016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.555Z] [runtime-status] [7016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.559Z] [runtime-status] [7016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.562Z] [runtime-status] [7016] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:00:47.564Z] [runtime-status] [7016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.595Z] [runtime-status] [2096] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:00:47.596Z] [runtime-status] [2096] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:47.597Z] [runtime-status] [2096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.600Z] [runtime-status] [2096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.601Z] [runtime-status] [2096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.602Z] [runtime-status] [2096] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  (node:18396) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:18396) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18396) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:18396) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:18396) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18396) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:18396) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:18396) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18396) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-25T01:00:47.709Z] [runtime-status] [7016] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:00:47.710Z] [runtime-status] [7016] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:47.711Z] [runtime-status] [7016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.720Z] [runtime-status] [7016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.722Z] [runtime-status] [7016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:00:47.723Z] [runtime-status] [7016] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:00:48.054Z] [runtime-status] [2096] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:00:48.068Z] [runtime-status] [2096] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:00:48.068Z] [runtime-status] [2096] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:00:48.073Z] [runtime-status] [2096] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\2096 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\2096"}}
[debug] [2021-03-25T01:00:48.080Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:00:48.080Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:00:48.111Z] [runtime-status] [2096] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:00:48.199Z] [runtime-status] [7016] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:00:48.225Z] [runtime-status] [7016] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:00:48.225Z] [runtime-status] [7016] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:00:48.226Z] [runtime-status] [7016] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\7016 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\7016"}}
[debug] [2021-03-25T01:00:48.227Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:00:48.228Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:00:48.241Z] [runtime-status] [7016] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:00:48.280Z] [runtime-status] [2096] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2096] Ephemeral server survived."}}
[debug] [2021-03-25T01:00:48.313Z] [runtime-status] [7016] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7016] Ephemeral server survived."}}
[info] >  (node:7016) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7016) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7016) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2096) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2096) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2096) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2096) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2096) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2096) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2096) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2096) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2096) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[info] >  (node:7016) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7016) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7016) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7016) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7016) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7016) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-25T01:01:15.230Z] [work-queue] {"queueLength":1,"workRunningCount":6}
[debug] [2021-03-25T01:01:15.230Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2021-03-25T01:01:15.230Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:01:15.302Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:01:15.304Z] [worker-pool] Adding worker with key api, total=7 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=7"}}
[debug] [2021-03-25T01:01:15.304Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:01:15.305Z] [worker-api-a8e40305-4f97-44a1-8297-59944277c2f9]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\9100 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8e40305-4f97-44a1-8297-59944277c2f9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\9100"}}
[debug] [2021-03-25T01:01:15.305Z] [worker-api-a8e40305-4f97-44a1-8297-59944277c2f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8e40305-4f97-44a1-8297-59944277c2f9]: BUSY"}}
[debug] [2021-03-25T01:01:15.978Z] [runtime-status] [9100] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:01:15.984Z] [runtime-status] [9100] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:01:15.992Z] [runtime-status] [9100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:15.997Z] [runtime-status] [9100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:16.002Z] [runtime-status] [9100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:16.006Z] [runtime-status] [9100] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:01:16.008Z] [runtime-status] [9100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:16.239Z] [runtime-status] [9100] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:01:16.241Z] [runtime-status] [9100] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:01:16.250Z] [runtime-status] [9100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:16.254Z] [runtime-status] [9100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:16.257Z] [runtime-status] [9100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:16.259Z] [runtime-status] [9100] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:01:17.177Z] [runtime-status] [9100] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:01:17.179Z] [runtime-status] [9100] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:01:17.180Z] [runtime-status] [9100] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:01:17.190Z] [runtime-status] [9100] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\9100 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\9100"}}
[debug] [2021-03-25T01:01:17.197Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:01:17.200Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:01:17.227Z] [runtime-status] [9100] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:01:17.265Z] [runtime-status] [9100] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9100] Ephemeral server survived."}}
[info] >  (node:9100) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9100) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9100) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:9100) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9100) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9100) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9100) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9100) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9100) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:01:18.912Z] [worker-api-44ce2846-9783-41a8-bd26-46403989abc4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-44ce2846-9783-41a8-bd26-46403989abc4]: exited"}}
[debug] [2021-03-25T01:01:18.914Z] [worker-api-44ce2846-9783-41a8-bd26-46403989abc4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-44ce2846-9783-41a8-bd26-46403989abc4]: FINISHED"}}
[debug] [2021-03-25T01:01:18.915Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:01:20.000Z] [worker-api-423fbf40-5bcd-4a9f-b666-a7b46ca385e1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-423fbf40-5bcd-4a9f-b666-a7b46ca385e1]: exited"}}
[debug] [2021-03-25T01:01:20.002Z] [worker-api-423fbf40-5bcd-4a9f-b666-a7b46ca385e1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-423fbf40-5bcd-4a9f-b666-a7b46ca385e1]: FINISHED"}}
[debug] [2021-03-25T01:01:20.003Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:01:42.549Z] [worker-api-b8ad3234-8b72-49ca-8311-0bdb7a11648f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b8ad3234-8b72-49ca-8311-0bdb7a11648f]: exited"}}
[debug] [2021-03-25T01:01:42.550Z] [worker-api-b8ad3234-8b72-49ca-8311-0bdb7a11648f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b8ad3234-8b72-49ca-8311-0bdb7a11648f]: FINISHED"}}
[debug] [2021-03-25T01:01:42.551Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-03-25T01:01:45.210Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-03-25T01:01:45.210Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-03-25T01:01:45.210Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:01:45.210Z] [worker-pool] Cleaned up workers for api: 7 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 7 --> 4"}}
[debug] [2021-03-25T01:01:45.304Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:01:45.305Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-03-25T01:01:45.305Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:01:45.305Z] [worker-api-289ca611-eea2-41fb-bbb1-26c17936648f]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\18644 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-289ca611-eea2-41fb-bbb1-26c17936648f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\18644"}}
[debug] [2021-03-25T01:01:45.305Z] [worker-api-289ca611-eea2-41fb-bbb1-26c17936648f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-289ca611-eea2-41fb-bbb1-26c17936648f]: BUSY"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:01:45.743Z] [worker-api-983bd10d-c3c0-4f73-9ec6-c99dee9f027c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-983bd10d-c3c0-4f73-9ec6-c99dee9f027c]: exited"}}
[debug] [2021-03-25T01:01:45.743Z] [worker-api-983bd10d-c3c0-4f73-9ec6-c99dee9f027c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-983bd10d-c3c0-4f73-9ec6-c99dee9f027c]: FINISHED"}}
[debug] [2021-03-25T01:01:45.744Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-03-25T01:01:45.751Z] [runtime-status] [18644] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:01:45.754Z] [runtime-status] [18644] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:01:45.771Z] [runtime-status] [18644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:45.805Z] [runtime-status] [18644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:45.818Z] [runtime-status] [18644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:45.823Z] [runtime-status] [18644] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:01:45.825Z] [runtime-status] [18644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:46.034Z] [runtime-status] [18644] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:01:46.036Z] [runtime-status] [18644] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:01:46.043Z] [runtime-status] [18644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:46.047Z] [runtime-status] [18644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:46.052Z] [runtime-status] [18644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:01:46.054Z] [runtime-status] [18644] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:01:46.751Z] [runtime-status] [18644] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:01:46.788Z] [runtime-status] [18644] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:01:46.788Z] [runtime-status] [18644] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:01:46.789Z] [runtime-status] [18644] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\18644 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\18644"}}
[debug] [2021-03-25T01:01:46.791Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:01:46.791Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:01:46.804Z] [runtime-status] [18644] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:01:46.933Z] [runtime-status] [18644] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18644] Ephemeral server survived."}}
[info] >  (node:18644) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:18644) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18644) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:18644) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:18644) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18644) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:18644) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:18644) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18644) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:01:48.134Z] [worker-api-04f9a8cd-aa23-422d-943a-696f559e8784]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f9a8cd-aa23-422d-943a-696f559e8784]: exited"}}
[debug] [2021-03-25T01:01:48.134Z] [worker-api-04f9a8cd-aa23-422d-943a-696f559e8784]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04f9a8cd-aa23-422d-943a-696f559e8784]: FINISHED"}}
[debug] [2021-03-25T01:01:48.135Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:01:48.233Z] [worker-api-d19434e4-2d99-4ce4-8e99-4970fbbc7109]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d19434e4-2d99-4ce4-8e99-4970fbbc7109]: exited"}}
[debug] [2021-03-25T01:01:48.233Z] [worker-api-d19434e4-2d99-4ce4-8e99-4970fbbc7109]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d19434e4-2d99-4ce4-8e99-4970fbbc7109]: FINISHED"}}
[debug] [2021-03-25T01:01:48.233Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:02:17.317Z] [worker-api-a8e40305-4f97-44a1-8297-59944277c2f9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8e40305-4f97-44a1-8297-59944277c2f9]: exited"}}
[debug] [2021-03-25T01:02:17.324Z] [worker-api-a8e40305-4f97-44a1-8297-59944277c2f9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8e40305-4f97-44a1-8297-59944277c2f9]: FINISHED"}}
[debug] [2021-03-25T01:02:17.325Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T01:02:29.841Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-25T01:02:29.841Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-25T01:02:29.841Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:02:29.841Z] [worker-pool] Cleaned up workers for api: 5 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 1"}}
[debug] [2021-03-25T01:02:30.041Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:02:30.041Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-25T01:02:30.041Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:02:30.041Z] [worker-api-085e7b50-8ede-4848-8e74-28385ea88318]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\16896 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-085e7b50-8ede-4848-8e74-28385ea88318]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\16896"}}
[debug] [2021-03-25T01:02:30.041Z] [worker-api-085e7b50-8ede-4848-8e74-28385ea88318]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-085e7b50-8ede-4848-8e74-28385ea88318]: BUSY"}}
[debug] [2021-03-25T01:02:30.737Z] [runtime-status] [16896] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:02:30.740Z] [runtime-status] [16896] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:02:30.753Z] [runtime-status] [16896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:30.756Z] [runtime-status] [16896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:30.761Z] [runtime-status] [16896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:30.764Z] [runtime-status] [16896] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:02:30.765Z] [runtime-status] [16896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:30.930Z] [runtime-status] [16896] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:02:30.930Z] [runtime-status] [16896] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:02:30.936Z] [runtime-status] [16896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:30.938Z] [runtime-status] [16896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:30.939Z] [runtime-status] [16896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:30.940Z] [runtime-status] [16896] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:02:31.498Z] [runtime-status] [16896] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:02:31.503Z] [runtime-status] [16896] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:02:31.503Z] [runtime-status] [16896] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:02:31.525Z] [runtime-status] [16896] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\16896 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\16896"}}
[debug] [2021-03-25T01:02:31.531Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:02:31.532Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:02:31.562Z] [runtime-status] [16896] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:02:31.691Z] [runtime-status] [16896] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16896] Ephemeral server survived."}}
[info] >  (node:16896) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16896) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16896) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16896) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16896) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16896) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16896) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16896) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16896) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-25T01:02:32.837Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-03-25T01:02:32.837Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-03-25T01:02:32.837Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:02:32.902Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:02:32.902Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-03-25T01:02:32.902Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:02:32.902Z] [worker-api-4f356e01-4c13-4943-b8c5-5077b71142a4]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\3652 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4f356e01-4c13-4943-b8c5-5077b71142a4]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\3652"}}
[debug] [2021-03-25T01:02:32.903Z] [worker-api-4f356e01-4c13-4943-b8c5-5077b71142a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4f356e01-4c13-4943-b8c5-5077b71142a4]: BUSY"}}
[debug] [2021-03-25T01:02:33.404Z] [runtime-status] [3652] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:02:33.407Z] [runtime-status] [3652] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:02:33.418Z] [runtime-status] [3652] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:33.422Z] [runtime-status] [3652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:33.426Z] [runtime-status] [3652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:33.430Z] [runtime-status] [3652] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:02:33.432Z] [runtime-status] [3652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:33.528Z] [runtime-status] [3652] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:02:33.528Z] [runtime-status] [3652] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:02:33.529Z] [runtime-status] [3652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:33.532Z] [runtime-status] [3652] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:33.533Z] [runtime-status] [3652] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:02:33.533Z] [runtime-status] [3652] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:02:33.834Z] [runtime-status] [3652] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:02:33.836Z] [runtime-status] [3652] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:02:33.837Z] [runtime-status] [3652] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:02:33.843Z] [runtime-status] [3652] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\3652 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\3652"}}
[debug] [2021-03-25T01:02:33.849Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:02:33.849Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:02:33.871Z] [runtime-status] [3652] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:02:33.911Z] [runtime-status] [3652] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3652] Ephemeral server survived."}}
[info] >  (node:3652) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:3652) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3652) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3652) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:3652) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3652) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:3652) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:3652) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3652) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:02:46.907Z] [worker-api-289ca611-eea2-41fb-bbb1-26c17936648f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-289ca611-eea2-41fb-bbb1-26c17936648f]: exited"}}
[debug] [2021-03-25T01:02:46.913Z] [worker-api-289ca611-eea2-41fb-bbb1-26c17936648f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-289ca611-eea2-41fb-bbb1-26c17936648f]: FINISHED"}}
[debug] [2021-03-25T01:02:46.917Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-25T01:03:20.306Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-03-25T01:03:20.307Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-03-25T01:03:20.307Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:03:20.307Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2021-03-25T01:03:20.356Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:03:20.356Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-03-25T01:03:20.356Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:03:20.356Z] [worker-api-27d3518c-eaef-4103-9a2f-ed0720124fb0]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\6644 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27d3518c-eaef-4103-9a2f-ed0720124fb0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\6644"}}
[debug] [2021-03-25T01:03:20.356Z] [worker-api-27d3518c-eaef-4103-9a2f-ed0720124fb0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27d3518c-eaef-4103-9a2f-ed0720124fb0]: BUSY"}}
[debug] [2021-03-25T01:03:21.166Z] [runtime-status] [6644] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:03:21.169Z] [runtime-status] [6644] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:03:21.199Z] [runtime-status] [6644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:21.242Z] [runtime-status] [6644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:21.246Z] [runtime-status] [6644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:21.249Z] [runtime-status] [6644] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:03:21.250Z] [runtime-status] [6644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:21.544Z] [runtime-status] [6644] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:03:21.545Z] [runtime-status] [6644] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:03:21.546Z] [runtime-status] [6644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:21.560Z] [runtime-status] [6644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:21.561Z] [runtime-status] [6644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:21.566Z] [runtime-status] [6644] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:03:21.998Z] [runtime-status] [6644] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:03:22.000Z] [runtime-status] [6644] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:03:22.000Z] [runtime-status] [6644] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:03:22.008Z] [runtime-status] [6644] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\6644 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\6644"}}
[debug] [2021-03-25T01:03:22.014Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:03:22.015Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:03:22.034Z] [runtime-status] [6644] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:03:22.073Z] [runtime-status] [6644] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6644] Ephemeral server survived."}}
[info] >  (node:6644) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:6644) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6644) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6644) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6644) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6644) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6644) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6644) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6644) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:03:31.622Z] [worker-api-085e7b50-8ede-4848-8e74-28385ea88318]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-085e7b50-8ede-4848-8e74-28385ea88318]: exited"}}
[debug] [2021-03-25T01:03:31.623Z] [worker-api-085e7b50-8ede-4848-8e74-28385ea88318]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-085e7b50-8ede-4848-8e74-28385ea88318]: FINISHED"}}
[debug] [2021-03-25T01:03:31.624Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-25T01:03:32.880Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-03-25T01:03:32.881Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-03-25T01:03:32.881Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:03:32.881Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2021-03-25T01:03:33.027Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:03:33.028Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-03-25T01:03:33.028Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:03:33.028Z] [worker-api-12e11942-e9b9-47a5-9e3a-679235f8e5c3]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\19260 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-12e11942-e9b9-47a5-9e3a-679235f8e5c3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\19260"}}
[debug] [2021-03-25T01:03:33.028Z] [worker-api-12e11942-e9b9-47a5-9e3a-679235f8e5c3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-12e11942-e9b9-47a5-9e3a-679235f8e5c3]: BUSY"}}
[debug] [2021-03-25T01:03:33.624Z] [runtime-status] [19260] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:03:33.628Z] [runtime-status] [19260] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:03:33.643Z] [runtime-status] [19260] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:33.647Z] [runtime-status] [19260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:33.653Z] [runtime-status] [19260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:33.658Z] [runtime-status] [19260] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:03:33.661Z] [runtime-status] [19260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:33.866Z] [runtime-status] [19260] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:03:33.866Z] [runtime-status] [19260] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:03:33.869Z] [runtime-status] [19260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:03:33.919Z] [runtime-status] [19260] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:33.919Z] [runtime-status] [19260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:03:33.919Z] [runtime-status] [19260] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:03:33.969Z] [worker-api-4f356e01-4c13-4943-b8c5-5077b71142a4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4f356e01-4c13-4943-b8c5-5077b71142a4]: exited"}}
[debug] [2021-03-25T01:03:33.970Z] [worker-api-4f356e01-4c13-4943-b8c5-5077b71142a4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4f356e01-4c13-4943-b8c5-5077b71142a4]: FINISHED"}}
[debug] [2021-03-25T01:03:33.970Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-25T01:03:34.755Z] [runtime-status] [19260] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:03:34.757Z] [runtime-status] [19260] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:03:34.757Z] [runtime-status] [19260] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:03:34.766Z] [runtime-status] [19260] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\19260 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\19260"}}
[debug] [2021-03-25T01:03:34.771Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:03:34.771Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:03:34.796Z] [runtime-status] [19260] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:03:34.831Z] [runtime-status] [19260] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [19260] Ephemeral server survived."}}
[info] >  (node:19260) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:19260) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:19260) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:19260) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:19260) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:19260) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:19260) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:19260) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:19260) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:04:22.135Z] [worker-api-27d3518c-eaef-4103-9a2f-ed0720124fb0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27d3518c-eaef-4103-9a2f-ed0720124fb0]: exited"}}
[debug] [2021-03-25T01:04:22.136Z] [worker-api-27d3518c-eaef-4103-9a2f-ed0720124fb0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-27d3518c-eaef-4103-9a2f-ed0720124fb0]: FINISHED"}}
[debug] [2021-03-25T01:04:22.136Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T01:04:25.305Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-25T01:04:25.305Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-25T01:04:25.306Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:04:25.306Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2021-03-25T01:04:25.381Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:04:25.381Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-25T01:04:25.381Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:04:25.381Z] [worker-api-ec2f7745-b401-4a3f-9c07-e7b855434030]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\12204 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ec2f7745-b401-4a3f-9c07-e7b855434030]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\12204"}}
[debug] [2021-03-25T01:04:25.381Z] [worker-api-ec2f7745-b401-4a3f-9c07-e7b855434030]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ec2f7745-b401-4a3f-9c07-e7b855434030]: BUSY"}}
[debug] [2021-03-25T01:04:25.709Z] [runtime-status] [12204] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:04:25.711Z] [runtime-status] [12204] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:04:25.716Z] [runtime-status] [12204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:04:25.718Z] [runtime-status] [12204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:04:25.721Z] [runtime-status] [12204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:04:25.723Z] [runtime-status] [12204] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:04:25.724Z] [runtime-status] [12204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:04:25.803Z] [runtime-status] [12204] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:04:25.807Z] [runtime-status] [12204] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:04:25.807Z] [runtime-status] [12204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:04:25.808Z] [runtime-status] [12204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:04:25.809Z] [runtime-status] [12204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:04:25.810Z] [runtime-status] [12204] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:04:26.239Z] [runtime-status] [12204] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:04:26.244Z] [runtime-status] [12204] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:04:26.244Z] [runtime-status] [12204] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:04:26.253Z] [runtime-status] [12204] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\12204 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\12204"}}
[debug] [2021-03-25T01:04:26.262Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:04:26.262Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:04:26.287Z] [runtime-status] [12204] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:04:26.332Z] [runtime-status] [12204] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12204] Ephemeral server survived."}}
[info] >  (node:12204) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:12204) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12204) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:12204) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:12204) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12204) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:12204) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:12204) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12204) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:04:34.887Z] [worker-api-12e11942-e9b9-47a5-9e3a-679235f8e5c3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-12e11942-e9b9-47a5-9e3a-679235f8e5c3]: exited"}}
[debug] [2021-03-25T01:04:34.888Z] [worker-api-12e11942-e9b9-47a5-9e3a-679235f8e5c3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-12e11942-e9b9-47a5-9e3a-679235f8e5c3]: FINISHED"}}
[debug] [2021-03-25T01:04:34.889Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T01:05:08.554Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-25T01:05:08.554Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-25T01:05:08.554Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:05:08.555Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-03-25T01:05:08.670Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:05:08.670Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-25T01:05:08.670Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:05:08.670Z] [worker-api-46f91cd3-d617-4108-a225-522f0d765870]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\10060 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46f91cd3-d617-4108-a225-522f0d765870]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\10060"}}
[debug] [2021-03-25T01:05:08.670Z] [worker-api-46f91cd3-d617-4108-a225-522f0d765870]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46f91cd3-d617-4108-a225-522f0d765870]: BUSY"}}
[debug] [2021-03-25T01:05:09.364Z] [runtime-status] [10060] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:05:09.372Z] [runtime-status] [10060] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:05:09.382Z] [runtime-status] [10060] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:09.392Z] [runtime-status] [10060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:09.396Z] [runtime-status] [10060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:09.401Z] [runtime-status] [10060] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:05:09.403Z] [runtime-status] [10060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:09.627Z] [runtime-status] [10060] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:05:09.627Z] [runtime-status] [10060] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:05:09.628Z] [runtime-status] [10060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:09.632Z] [runtime-status] [10060] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:09.679Z] [runtime-status] [10060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:09.680Z] [runtime-status] [10060] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:05:10.108Z] [runtime-status] [10060] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:05:10.110Z] [runtime-status] [10060] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:05:10.110Z] [runtime-status] [10060] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:05:10.118Z] [runtime-status] [10060] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\10060 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\10060"}}
[debug] [2021-03-25T01:05:10.125Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:05:10.125Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:05:10.147Z] [runtime-status] [10060] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:05:10.182Z] [runtime-status] [10060] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10060] Ephemeral server survived."}}
[info] >  (node:10060) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:10060) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10060) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:10060) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10060) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10060) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10060) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10060) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10060) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:05:26.384Z] [worker-api-ec2f7745-b401-4a3f-9c07-e7b855434030]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ec2f7745-b401-4a3f-9c07-e7b855434030]: exited"}}
[debug] [2021-03-25T01:05:26.385Z] [worker-api-ec2f7745-b401-4a3f-9c07-e7b855434030]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ec2f7745-b401-4a3f-9c07-e7b855434030]: FINISHED"}}
[debug] [2021-03-25T01:05:26.386Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T01:05:39.417Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-25T01:05:39.418Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-25T01:05:39.418Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:05:39.418Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-03-25T01:05:39.499Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:05:39.499Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-25T01:05:39.499Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:05:39.499Z] [worker-api-ec6e7498-e677-42c9-ab1b-d9ca1aeb1164]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\6448 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ec6e7498-e677-42c9-ab1b-d9ca1aeb1164]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\6448"}}
[debug] [2021-03-25T01:05:39.500Z] [worker-api-ec6e7498-e677-42c9-ab1b-d9ca1aeb1164]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ec6e7498-e677-42c9-ab1b-d9ca1aeb1164]: BUSY"}}
[debug] [2021-03-25T01:05:40.052Z] [runtime-status] [6448] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:05:40.071Z] [runtime-status] [6448] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:05:40.107Z] [runtime-status] [6448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:40.116Z] [runtime-status] [6448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:40.120Z] [runtime-status] [6448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:40.125Z] [runtime-status] [6448] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:05:40.126Z] [runtime-status] [6448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:40.326Z] [runtime-status] [6448] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:05:40.326Z] [runtime-status] [6448] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:05:40.337Z] [runtime-status] [6448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:40.341Z] [runtime-status] [6448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:40.342Z] [runtime-status] [6448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:05:40.343Z] [runtime-status] [6448] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:05:41.115Z] [runtime-status] [6448] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:05:41.116Z] [runtime-status] [6448] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:05:41.117Z] [runtime-status] [6448] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:05:41.124Z] [runtime-status] [6448] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\6448 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\6448"}}
[debug] [2021-03-25T01:05:41.130Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:05:41.130Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:05:41.158Z] [runtime-status] [6448] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:05:41.192Z] [runtime-status] [6448] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6448] Ephemeral server survived."}}
[info] >  (node:6448) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:6448) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6448) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6448) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6448) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6448) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6448) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6448) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6448) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:06:10.256Z] [worker-api-46f91cd3-d617-4108-a225-522f0d765870]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46f91cd3-d617-4108-a225-522f0d765870]: exited"}}
[debug] [2021-03-25T01:06:10.256Z] [worker-api-46f91cd3-d617-4108-a225-522f0d765870]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46f91cd3-d617-4108-a225-522f0d765870]: FINISHED"}}
[debug] [2021-03-25T01:06:10.256Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:06:41.285Z] [worker-api-ec6e7498-e677-42c9-ab1b-d9ca1aeb1164]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ec6e7498-e677-42c9-ab1b-d9ca1aeb1164]: exited"}}
[debug] [2021-03-25T01:06:41.286Z] [worker-api-ec6e7498-e677-42c9-ab1b-d9ca1aeb1164]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ec6e7498-e677-42c9-ab1b-d9ca1aeb1164]: FINISHED"}}
[debug] [2021-03-25T01:06:41.287Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-25T01:06:58.843Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-25T01:06:58.843Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-25T01:06:58.843Z] Accepted request POST /clone-9a4d5/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-25T01:06:58.843Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-03-25T01:06:58.997Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-25T01:06:58.997Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-25T01:06:58.997Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-25T01:06:58.997Z] [worker-api-58aa37ea-1d70-4c52-8339-8de447272749]: Assigning socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\8520 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-58aa37ea-1d70-4c52-8339-8de447272749]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\8520"}}
[debug] [2021-03-25T01:06:58.997Z] [worker-api-58aa37ea-1d70-4c52-8339-8de447272749]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-58aa37ea-1d70-4c52-8339-8de447272749]: BUSY"}}
[debug] [2021-03-25T01:06:59.889Z] [runtime-status] [8520] Functions runtime initialized. {"cwd":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions","node_version":"14.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\",\"node_version\":\"14.16.0\"}"}}
[debug] [2021-03-25T01:06:59.893Z] [runtime-status] [8520] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Disabled runtime features: undefined"}}
[debug] [2021-03-25T01:06:59.899Z] [runtime-status] [8520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:06:59.902Z] [runtime-status] [8520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:06:59.905Z] [runtime-status] [8520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:06:59.911Z] [runtime-status] [8520] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-25T01:06:59.912Z] [runtime-status] [8520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:07:00.183Z] [runtime-status] [8520] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-25T01:07:00.183Z] [runtime-status] [8520] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:07:00.237Z] [runtime-status] [8520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:07:00.237Z] [runtime-status] [8520] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:07:00.237Z] [runtime-status] [8520] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-25T01:07:00.237Z] [runtime-status] [8520] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"C:\\\\Users\\\\tuyen\\\\OneDrive\\\\Desktop\\\\Personal Project\\\\amazon-fullstack\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-25T01:07:01.057Z] [runtime-status] [8520] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-25T01:07:01.066Z] [runtime-status] [8520] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-25T01:07:01.066Z] [runtime-status] [8520] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Running api in mode HTTPS"}}
[debug] [2021-03-25T01:07:01.072Z] [runtime-status] [8520] Attempting to listen to socketPath: \\?\pipe\C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\8520 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\8520"}}
[debug] [2021-03-25T01:07:01.078Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-25T01:07:01.079Z] [functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-9a4d5/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-25T01:07:01.116Z] [runtime-status] [8520] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Ephemeral server handling POST request"}}
[info] >  Payment Request is:  0 {"user":"Payment Request is:  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment Request is:  0"}}
[debug] [2021-03-25T01:07:01.163Z] [runtime-status] [8520] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8520] Ephemeral server survived."}}
[info] >  (node:8520) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:8520) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8520) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\tuyen\OneDrive\Desktop\Personal Project\amazon-fullstack\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\tuyen\\OneDrive\\Desktop\\Personal Project\\amazon-fullstack\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (internal/streams/readable.js:1327:12) {"user":"    at endReadableNT (internal/streams/readable.js:1327:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (internal/streams/readable.js:1327:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:80:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:80:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:80:21)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8520) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8520) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8520) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8520) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8520) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8520) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642 {"user":"C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642\r"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\tuyen\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:642:19) {"user":"    at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\tuyen\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:642:19)\r"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)\r"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)\r"}}
[debug] [2021-03-25T01:08:01.126Z] [worker-api-58aa37ea-1d70-4c52-8339-8de447272749]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-58aa37ea-1d70-4c52-8339-8de447272749]: exited"}}
[debug] [2021-03-25T01:08:01.126Z] [worker-api-58aa37ea-1d70-4c52-8339-8de447272749]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-58aa37ea-1d70-4c52-8339-8de447272749]: FINISHED"}}
[debug] [2021-03-25T01:08:01.127Z] [work-queue] {"queueLength":0,"workRunningCount":0}
